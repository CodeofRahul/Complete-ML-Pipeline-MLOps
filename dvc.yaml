stages:                                             # creating stages
  data_ingestion:                                   # stage 1: data ingestion
    cmd: python src/data_ingestion.py               # command to run for this stage
    deps:                                           # dependencies for this stage  # dependency on itself
    - src/data_ingestion.py                         # python file to run
    # params:                                         # parameters for this stage
    # - data_ingestion.test_size                      # parameter to control test size
    outs:                                           # outputs of this stage
    - data/raw                                      # output directory for this stage
  data_preprocessing:                               # stage 2: data preprocessing
    cmd: python src/data_preprocessing.py
    deps:
    - data/raw
    - src/data_preprocessing.py
    outs:
    - data/interim
  feature_engineering:
    cmd: python src/feature_engineering.py
    deps:
    - data/interim
    - src/feature_engineering.py
    # params:
    # - feature_engineering.max_features
    outs:
    - data/processed
  model_building:
    cmd: python src/model_building.py
    deps:
    - data/processed
    - src/model_building.py
    # params:
    # - model_building.n_estimators
    # - model_building.random_state
    outs:
    - models/model.pkl
  model_evaluation:
    cmd: python src/model_evaluation.py
    deps:
    - models/model.pkl
    - src/model_evaluation.py
    metrics:
    - reports/metrics.json
params:
- dvclive/params.yaml
metrics:
- dvclive/metrics.json
plots:
- dvclive/plots/metrics:
    x: step